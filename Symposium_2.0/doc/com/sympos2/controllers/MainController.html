<!DOCTYPE HTML>
<html lang="es">
<head>
<!-- Generated by javadoc (21) on Mon Mar 03 21:14:04 CET 2025 -->
<title>MainController</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-03-03">
<meta name="description" content="declaration: package: com.sympos2.controllers, class: MainController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MainController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.sympos2.controllers</a></div>
<h1 title="Class MainController" class="title">Class MainController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.sympos2.controllers.MainController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Controller
</span><span class="modifiers">public class </span><span class="element-name type-name-label">MainController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">This Controller handles the redirections and logic of each front's URL, but the front templates which is not React.</div>
<dl class="notes">
<dt>Version:</dt>
<dd>0.1.0</dd>
<dt>Author:</dt>
<dd>KurixDeCuatroCuernos</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">MainController</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#bannearComentario(java.lang.String,java.lang.Long,java.lang.String)" class="member-name-link">bannearComentario</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;commentId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;obraId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;origin)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the banning of a comment by its ID.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#borrarComentario(java.lang.String,java.lang.String)" class="member-name-link">borrarComentario</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;obraId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the deletion of a comment and its associated responses from the database.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#borrarObra(java.lang.Long)" class="member-name-link">borrarObra</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the deletion of a work (book or article) from the system.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.http.ResponseEntity<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#comentarObra(java.lang.Long,java.lang.String,java.lang.String,java.lang.String,int)" class="member-name-link">comentarObra</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;obraId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;titulo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;texto,
 int&nbsp;valoracion)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the submission of a comment for a work (Obra) and saves it to the database.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deleteUser(java.lang.String,org.springframework.ui.Model)" class="member-name-link">deleteUser</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the deletion of a user and their associated comments.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#desbannearComentario(java.lang.String)" class="member-name-link">desbannearComentario</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the unbanning of a comment by its ID.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editarArticulo(java.lang.Long,org.springframework.ui.Model)" class="member-name-link">editarArticulo</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the editing of an article in the system.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editarArticuloSubmit(com.sympos2.models.Obra,java.lang.String,org.springframework.validation.BindingResult)" class="member-name-link">editarArticuloSubmit</a><wbr>(@Valid <a href="../models/Obra.html" title="class in com.sympos2.models">Obra</a>&nbsp;editedWork,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tags,
 org.springframework.validation.BindingResult&nbsp;br)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the submission of the article edit form.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.http.ResponseEntity<wbr>&lt;<a href="../models/Comentario.html" title="class in com.sympos2.models">Comentario</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editarComentario(java.lang.Long,java.lang.String)" class="member-name-link">editarComentario</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;obraId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;commentId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the retrieval of a comment for editing purposes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editarLibro(java.lang.Long,org.springframework.ui.Model)" class="member-name-link">editarLibro</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the editing functionality for books in the system.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editarLibroSubmit(com.sympos2.models.Obra,java.lang.String,org.springframework.validation.BindingResult)" class="member-name-link">editarLibroSubmit</a><wbr>(@Valid <a href="../models/Obra.html" title="class in com.sympos2.models">Obra</a>&nbsp;editedWork,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tags,
 org.springframework.validation.BindingResult&nbsp;br)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the submission of the book editing form.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editarObra(java.lang.Long,org.springframework.ui.Model)" class="member-name-link">editarObra</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the redirection logic for editing a work (book or article) in the system.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editarUsuarioForm(java.lang.String,org.springframework.ui.Model)" class="member-name-link">editarUsuarioForm</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the request to display the user edit form.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editarUsuarioSubmit(com.sympos2.models.Usuario,org.springframework.validation.BindingResult)" class="member-name-link">editarUsuarioSubmit</a><wbr>(@Valid <a href="../models/Usuario.html" title="class in com.sympos2.models">Usuario</a>&nbsp;editarUsuario,
 org.springframework.validation.BindingResult&nbsp;br)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the form submission for updating a user's details.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../models/Usuario.html" title="class in com.sympos2.models">Usuario</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentUsuario()" class="member-name-link">getCurrentUsuario</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method retrieves the currently authenticated user from the security context.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleFormSubmit(com.sympos2.models.Usuario,org.springframework.ui.Model,org.springframework.validation.BindingResult,org.springframework.web.servlet.mvc.support.RedirectAttributes)" class="member-name-link">handleFormSubmit</a><wbr>(@Valid <a href="../models/Usuario.html" title="class in com.sympos2.models">Usuario</a>&nbsp;nuevoUsuario,
 org.springframework.ui.Model&nbsp;model,
 org.springframework.validation.BindingResult&nbsp;br,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the form submission for user registration.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#index(org.springframework.ui.Model)" class="member-name-link">index</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the logic for the "/" URL, sets the user-related data and work suggestions 
 in the Model, and redirects to the "index.html" template.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertarArticulo(java.lang.String,org.springframework.ui.Model)" class="member-name-link">insertarArticulo</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;failure,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the display of the article creation form.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertarArticuloSubmit(com.sympos2.models.Obra,java.lang.String,org.springframework.validation.BindingResult)" class="member-name-link">insertarArticuloSubmit</a><wbr>(@Valid <a href="../models/Obra.html" title="class in com.sympos2.models">Obra</a>&nbsp;insertarObra,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tags,
 org.springframework.validation.BindingResult&nbsp;br)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the submission of the article creation form.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertarLibro(java.lang.String,org.springframework.ui.Model)" class="member-name-link">insertarLibro</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;failure,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the logic for displaying the form to insert a new book (libro).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertarLibroSubmit(com.sympos2.models.Obra,java.lang.String,org.springframework.validation.BindingResult)" class="member-name-link">insertarLibroSubmit</a><wbr>(@Valid <a href="../models/Obra.html" title="class in com.sympos2.models">Obra</a>&nbsp;insertarObra,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tags,
 org.springframework.validation.BindingResult&nbsp;br)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the submission of the form for inserting a new book (libro) into the system.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listado(org.springframework.ui.Model)" class="member-name-link">listado</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the logic for displaying the users list page.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listarComentarios(org.springframework.ui.Model)" class="member-name-link">listarComentarios</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method retrieves and displays a list of all comments in the system.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listarObras(org.springframework.ui.Model)" class="member-name-link">listarObras</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the logic for displaying the list of works (obras).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#login(org.springframework.ui.Model)" class="member-name-link">login</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the login page redirection logic.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loginError(org.springframework.ui.Model)" class="member-name-link">loginError</a><wbr>(org.springframework.ui.Model&nbsp;modelo)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the login error page.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loginSubmit(com.sympos2.models.Usuario,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)" class="member-name-link">loginSubmit</a><wbr>(@Valid <a href="../models/Usuario.html" title="class in com.sympos2.models">Usuario</a>&nbsp;logUser,
 org.springframework.ui.Model&nbsp;model,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the login submission process.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#mostrarObra(java.lang.Long,org.springframework.ui.Model)" class="member-name-link">mostrarObra</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the logic for the "/workShow" URL, retrieves the work (Obra) by its ID, 
 sets the data in the Model, and then redirects to the appropriate template.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registro(org.springframework.ui.Model)" class="member-name-link">registro</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the display of the registration form page.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.http.ResponseEntity<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#responderComentario(java.lang.Long,java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">responderComentario</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;obraId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;commentId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;texto)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the submission of a reply to an existing comment on a work (Obra).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.http.ResponseEntity<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateComment(java.lang.String,java.lang.String,java.lang.String,int)" class="member-name-link">updateComment</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;commentId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;titulo,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;texto,
 int&nbsp;valoracion)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method handles the updating of an existing comment.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>MainController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MainController</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="index(org.springframework.ui.Model)">
<h3>index</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">index</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the logic for the "/" URL, sets the user-related data and work suggestions 
 in the Model, and redirects to the "index.html" template.
 <p>
 It performs the following tasks:
 <ul>
   <li>If the user is authenticated, it adds the username and user ID to the model.</li>
   <li>If the user is not authenticated, it adds "invitado" as the username in the model.</li>
   <li>It retrieves a list of suggested works (Obra) with ISBN and title and adds them to the model.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - The Model object to hold attributes to be sent to the view (frontend).</dd>
<dt>Returns:</dt>
<dd>The "index.html" template to be rendered, containing the data to be displayed on the home page.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mostrarObra(java.lang.Long,org.springframework.ui.Model)">
<h3>mostrarObra</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/workShow")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">mostrarObra</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the logic for the "/workShow" URL, retrieves the work (Obra) by its ID, 
 sets the data in the Model, and then redirects to the appropriate template.
 <p>
 The behavior is as follows:
 <ul>
   <li>If <code>id</code> is <code>null</code>, it redirects to the home page ("/").</li>
   <li>If no work (Obra) is found for the given <code>id</code>, it redirects to the home page ("/").</li>
   <li>If a work is found and the <code>id</code> is valid, it returns the "/workShow?id" template.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID (ISBN) of the Obra object to be shown. It is a Long type.</dd>
<dd><code>model</code> - The Model to hold attributes that will be sent to the view (frontend).</dd>
<dt>Returns:</dt>
<dd>The view template to be rendered:
         <ul>
           <li>"/" if <code>id</code> is <code>null</code> or no work is found.</li>
           <li>"/workShow?id" if the work is found and the <code>id</code> is valid.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="comentarObra(java.lang.Long,java.lang.String,java.lang.String,java.lang.String,int)">
<h3>comentarObra</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/workComment/submit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">comentarObra</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;obraId,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userId,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;titulo,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;texto,
 @RequestParam
 int&nbsp;valoracion)</span></div>
<div class="block">This method handles the submission of a comment for a work (Obra) and saves it to the database.
 <p>
 The following steps are performed:
 <ul>
   <li>A new comment is created with the provided details (title, text, rating, etc.) and saved to the repository.</li>
   <li>If the comment is successfully saved, the method redirects the user to the work details page ("/workShow?id={obraId}").</li>
   <li>If an error occurs during the comment submission, an error message is returned with a 500 status code.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>obraId</code> - The ID of the work (Obra) to which the comment belongs.</dd>
<dd><code>userId</code> - The ID of the user submitting the comment.</dd>
<dd><code>titulo</code> - The title of the comment.</dd>
<dd><code>texto</code> - The text content of the comment.</dd>
<dd><code>valoracion</code> - The rating value given to the work (e.g., a scale of 1 to 5).</dd>
<dt>Returns:</dt>
<dd>A ResponseEntity containing the URL of the work's details page if the comment was successfully saved, 
         or an error message with a 500 status code if there was an issue saving the comment.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="borrarComentario(java.lang.String,java.lang.String)">
<h3>borrarComentario</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/workShow/deleteComment")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">borrarComentario</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;obraId)</span></div>
<div class="block">This method handles the deletion of a comment and its associated responses from the database.
 <p>
 The following actions are performed:
 <ul>
   <li>Attempts to find and delete any responses associated with the comment.</li>
   <li>Deletes the comment itself from the repository.</li>
   <li>If successful, redirects the user back to the work details page ("/workShow?id={obraId}").</li>
   <li>If an error occurs during the deletion process, redirects the user to an error page ("/errorPage").</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID of the comment to be deleted.</dd>
<dd><code>obraId</code> - The ID of the work (Obra) associated with the comment, used for redirection after deletion.</dd>
<dt>Returns:</dt>
<dd>A string indicating the URL to redirect to:
         <ul>
           <li>Redirects to the work details page ("/workShow?id={obraId}") if the deletion is successful.</li>
           <li>Redirects to the error page ("/errorPage") if there is an exception during the process.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="responderComentario(java.lang.Long,java.lang.String,java.lang.String,java.lang.String)">
<h3>responderComentario</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/answerComment/submit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">responderComentario</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;obraId,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userId,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;commentId,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;texto)</span></div>
<div class="block">This method handles the submission of a reply to an existing comment on a work (Obra).
 It saves the reply in the database and then redirects the user to the work details page.
 <p>
 The following actions are performed:
 <ul>
   <li>A new reply (comment of type "ANSWER") is created and saved to the repository with the provided details.</li>
   <li>If the reply is successfully saved, the user is redirected to the work details page ("/workShow?id={obraId}").</li>
   <li>If an error occurs during the saving process, a 500 error response is returned with an error message.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>obraId</code> - The ID of the work (Obra) to which the comment belongs.</dd>
<dd><code>userId</code> - The ID of the user submitting the reply.</dd>
<dd><code>commentId</code> - The ID of the comment being replied to.</dd>
<dd><code>texto</code> - The text content of the reply.</dd>
<dt>Returns:</dt>
<dd>A ResponseEntity containing:
         <ul>
           <li>The URL of the work details page ("/workShow?id={obraId}") if the reply was successfully saved.</li>
           <li>An error message with a 500 status code if there was an issue saving the reply.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editarComentario(java.lang.Long,java.lang.String)">
<h3>editarComentario</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/editComment")
@ResponseBody
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;<a href="../models/Comentario.html" title="class in com.sympos2.models">Comentario</a>&gt;</span>&nbsp;<span class="element-name">editarComentario</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;obraId,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;commentId)</span></div>
<div class="block">This method handles the retrieval of a comment for editing purposes.
 It fetches a specific comment by its ID from the repository and returns it as a JSON response.
 <p>
 The following actions are performed:
 <ul>
   <li>Attempts to find the comment using the provided <code>commentId<span class="invalid-tag">invalid input: '&lt;'</span>/&gt;.</li>
   <li>If the comment is found, it is returned as a JSON response with a 200 OK status.</li>
   <li>If the comment is not found, a 404 Not Found response is returned.</li>
   <li>If an error occurs during the process, a 500 Internal Server Error response is returned.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>obraId</code> - The ID of the work (Obra) to which the comment belongs. This is used for context but is not directly used in the retrieval.</dd>
<dd><code>commentId</code> - The ID of the comment to be retrieved for editing.</dd>
<dt>Returns:</dt>
<dd>A ResponseEntity containing:
         <ul>
           <li>The requested comment in JSON format with a 200 OK status if the comment is found.</li>
           <li>A 404 Not Found status with a null body if the comment does not exist.</li>
           <li>A 500 Internal Server Error status with a null body if an exception occurs during the process.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateComment(java.lang.String,java.lang.String,java.lang.String,int)">
<h3>updateComment</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/updateComment")
@ResponseBody
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">updateComment</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;commentId,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;titulo,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;texto,
 @RequestParam
 int&nbsp;valoracion)</span></div>
<div class="block">This method handles the updating of an existing comment. It allows the user to modify the title, text, 
 and rating of a comment. After updating, the comment is saved in the repository.
 <p>
 The following actions are performed:
 <ul>
   <li>Attempts to find the comment by its ID.</li>
   <li>If the comment is found, its fields (title, text, rating) are updated with the provided values.</li>
   <li>The updated comment is saved back to the repository.</li>
   <li>If the update is successful, a success message is returned with a 200 OK status.</li>
   <li>If the comment cannot be found or an error occurs during the process, an error message is returned with a 500 Internal Server Error status.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>commentId</code> - The ID of the comment to be updated.</dd>
<dd><code>titulo</code> - The new title to set for the comment.</dd>
<dd><code>texto</code> - The new text content to set for the comment.</dd>
<dd><code>valoracion</code> - The new rating value to set for the comment.</dd>
<dt>Returns:</dt>
<dd>A ResponseEntity containing:
         <ul>
           <li>A success message ("Comentario actualizado") with a 200 OK status if the update is successful.</li>
           <li>An error message ("Error al actualizar el comentario") with a 500 Internal Server Error status if an error occurs.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="login(org.springframework.ui.Model)">
<h3>login</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/login")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">login</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the login page redirection logic. It checks if the user is already authenticated.
 <p>
 The following actions are performed:
 <ul>
   <li>If the user is authenticated and not an anonymous user, they are redirected to the homepage ("/").</li>
   <li>If the user is not authenticated, they are redirected to the login page ("/loginPage").</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - The Model object that may be used to pass attributes to the view (not used in this implementation).</dd>
<dt>Returns:</dt>
<dd>A string representing the view name or redirection URL:
         <ul>
           <li>"redirect:/" if the user is authenticated.</li>
           <li>"/loginPage" if the user is not authenticated.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loginSubmit(com.sympos2.models.Usuario,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)">
<h3>loginSubmit</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/loginPage/submit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">loginSubmit</span><wbr><span class="parameters">(@Valid @ModelAttribute
 @Valid <a href="../models/Usuario.html" title="class in com.sympos2.models">Usuario</a>&nbsp;logUser,
 org.springframework.ui.Model&nbsp;model,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</span></div>
<div class="block">This method handles the login submission process. It attempts to authenticate the user based on the provided
 credentials (email and password). If authentication is successful, the user is redirected to the homepage.
 If authentication fails, an error message is shown, and the user is redirected to a login error page.
 <p>
 The following actions are performed:
 <ul>
   <li>Attempts to authenticate the user using the provided email and password.</li>
   <li>If authentication is successful, the user's authentication details are stored in the security context.</li>
   <li>If authentication fails, an error message is set, and the user is redirected to the login error page.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>logUser</code> - The user object containing the email and password provided by the user for login.</dd>
<dd><code>model</code> - The Model object used to pass attributes to the view (not used in this implementation).</dd>
<dd><code>redirectAttributes</code> - Used to add flash attributes for redirection, especially for error messages.</dd>
<dt>Returns:</dt>
<dd>A string representing the view name or redirection URL:
         <ul>
           <li>"redirect:/" if the user is successfully authenticated.</li>
           <li>"redirect:/loginError" if authentication fails.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loginError(org.springframework.ui.Model)">
<h3>loginError</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/loginError")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">loginError</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;modelo)</span></div>
<div class="block">This method handles the login error page. It is invoked when a login attempt fails, allowing the user
 to be redirected to a page that informs them of the failure.
 <p>
 This method typically shows an error message indicating that the login attempt was unsuccessful, 
 and it might be used to display additional error details or guidance for the user.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>modelo</code> - The Model object used to pass attributes to the view (not used in this implementation).</dd>
<dt>Returns:</dt>
<dd>A string representing the view name:
         <ul>
           <li>"/loginError" to display the login error page.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listado(org.springframework.ui.Model)">
<h3>listado</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/usersList")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">listado</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the logic for displaying the users list page. It checks if the current user is authenticated
 and has an "ADMIN" role. If the user is an admin, it fetches the list of all users and displays it. Otherwise,
 the user is redirected to the homepage.
 <p>
 The following actions are performed:
 <ul>
   <li>If the user is authenticated, their username is added to the model.</li>
   <li>If the user has the "ADMIN" role, the list of all users is retrieved from the repository and added to the model.</li>
   <li>If the user is not an admin, they are redirected to the homepage.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - The Model object used to pass attributes to the view, such as the username and the list of users.</dd>
<dt>Returns:</dt>
<dd>A string representing the view name:
         <ul>
           <li>"/usersList" if the current user is an admin, showing the list of users.</li>
           <li>"/" if the current user is not an admin, redirecting to the homepage.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registro(org.springframework.ui.Model)">
<h3>registro</h3>
<div class="member-signature"><span class="annotations">@GetMapping("form")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">registro</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the display of the registration form page. It adds an attribute to the model, which can 
 be used for editing a user (in this case, it is set to null to indicate no existing user to edit).
 <p>
 The following actions are performed:
 <ul>
   <li>The method adds a "usuarioEdit" attribute to the model, initialized to null, indicating that no user 
       is being edited at this time.</li>
   <li>The method returns the view name for the registration form page.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - The Model object used to pass attributes to the view, such as the "usuarioEdit" attribute.</dd>
<dt>Returns:</dt>
<dd>A string representing the view name:
         <ul>
           <li>"/form" to display the registration form page.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleFormSubmit(com.sympos2.models.Usuario,org.springframework.ui.Model,org.springframework.validation.BindingResult,org.springframework.web.servlet.mvc.support.RedirectAttributes)">
<h3>handleFormSubmit</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/form/submit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">handleFormSubmit</span><wbr><span class="parameters">(@Valid @ModelAttribute("userForm")
 @Valid <a href="../models/Usuario.html" title="class in com.sympos2.models">Usuario</a>&nbsp;nuevoUsuario,
 org.springframework.ui.Model&nbsp;model,
 org.springframework.validation.BindingResult&nbsp;br,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</span></div>
<div class="block">This method handles the form submission for user registration. It validates the submitted user data, 
 checks for errors, and attempts to register a new user. If any errors are found, it redirects the user
 back to the registration form with error messages. If registration is successful, the user is authenticated 
 and logged in immediately, redirecting them to the home page.
 <p>
 The method performs the following actions:
 <ul>
   <li>Validates the user input (e.g., username, birthdate, email, password).</li>
   <li>If any errors are found in the submitted data, it adds error messages to be displayed and redirects 
       the user back to the registration page.</li>
   <li>If validation passes, the user is saved to the repository with the role "STUDENT" and their password 
       is encoded.</li>
   <li>The user is immediately authenticated and logged in.</li>
   <li>If the authentication fails, an error message is displayed, and the user is redirected to the login page.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nuevoUsuario</code> - The user object containing the form data to be registered.</dd>
<dd><code>model</code> - The Model object used to pass attributes to the view (not used in this method).</dd>
<dd><code>br</code> - The BindingResult object that contains validation errors, if any.</dd>
<dd><code>redirectAttributes</code> - The RedirectAttributes object used to pass flash attributes (such as error messages)
                           between redirects.</dd>
<dt>Returns:</dt>
<dd>A string representing the redirect location:
         <ul>
           <li>"redirect:/form" if there are validation errors, redirecting back to the registration form.</li>
           <li>"redirect:/" if registration and authentication are successful, redirecting to the homepage.</li>
           <li>"redirect:/login" if authentication fails after registration, redirecting to the login page.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editarUsuarioForm(java.lang.String,org.springframework.ui.Model)">
<h3>editarUsuarioForm</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/edit{id}")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">editarUsuarioForm</span><wbr><span class="parameters">(@PathVariable("id")
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the request to display the user edit form. It retrieves the user by their ID from the database
 and, if found, populates the form with the user's existing data. If the user is not found, the method redirects 
 to the registration form.
 <p>
 The following actions are performed:
 <ul>
   <li>The method retrieves a user from the repository using the provided user ID.</li>
   <li>If the user is found, their details are added to the model and the user is directed to the form for editing.</li>
   <li>If the user is not found, the method redirects the user to the registration form page.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID of the user to be edited. This is extracted from the URL path.</dd>
<dd><code>model</code> - The Model object used to pass attributes to the view. It is used to add the user data (if found) to the form.</dd>
<dt>Returns:</dt>
<dd>A string representing the view name:
         <ul>
           <li>"form" if the user is found, redirecting to the user edit form with the user's data.</li>
           <li>"redirect:/form" if the user is not found, redirecting to the registration form.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editarUsuarioSubmit(com.sympos2.models.Usuario,org.springframework.validation.BindingResult)">
<h3>editarUsuarioSubmit</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/edit/submit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">editarUsuarioSubmit</span><wbr><span class="parameters">(@Valid @ModelAttribute("userForm")
 @Valid <a href="../models/Usuario.html" title="class in com.sympos2.models">Usuario</a>&nbsp;editarUsuario,
 org.springframework.validation.BindingResult&nbsp;br)</span></div>
<div class="block">This method handles the form submission for updating a user's details. It validates the user input 
 and, if no errors are found, it saves the updated user information. If there are validation errors, 
 the method returns the user to the form for editing.
 <p>
 The following actions are performed:
 <ul>
   <li>The method receives the updated user data from the form.</li>
   <li>It validates the input using the BindingResult. If there are validation errors, the user is 
       returned to the form to fix the errors.</li>
   <li>If no validation errors are found, the method updates the user's information by calling the 
       edit method of the userService, and then redirects the user to the user list page.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>editarUsuario</code> - The updated user details submitted from the form.</dd>
<dd><code>br</code> - The BindingResult that contains any validation errors. It is used to check if the user input is valid.</dd>
<dt>Returns:</dt>
<dd>A string representing the view name:
         <ul>
           <li>"form" if there are validation errors, returning the user to the form to fix the errors.</li>
           <li>"redirect:/usersList" if the user is successfully updated, redirecting to the list of users.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteUser(java.lang.String,org.springframework.ui.Model)">
<h3>deleteUser</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/userlist/delete")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">deleteUser</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the deletion of a user and their associated comments. It finds the user by their ID, 
 deletes all comments associated with the user, and then deletes the user from the database.
 <p>
 The following actions are performed:
 <ul>
   <li>The method attempts to find the user using the provided user ID.</li>
   <li>If the user is found, all comments associated with that user are deleted from the comment repository.</li>
   <li>The user is then deleted from the user repository.</li>
   <li>Finally, the method redirects to the user list page after the deletion process is complete.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID of the user to be deleted. This ID is provided as a request parameter.</dd>
<dd><code>model</code> - The Model object used to pass attributes to the view. In this case, it's not used directly but is part of the method signature.</dd>
<dt>Returns:</dt>
<dd>A string representing the view name, which is a redirect to the users list page after the deletion is completed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentUsuario()">
<h3>getCurrentUsuario</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../models/Usuario.html" title="class in com.sympos2.models">Usuario</a></span>&nbsp;<span class="element-name">getCurrentUsuario</span>()</div>
<div class="block">This method retrieves the currently authenticated user from the security context.
 <p>
 It checks the authentication context to find the principal object. If the principal is an instance of the 
 <a href="../models/Usuario.html" title="class in com.sympos2.models"><code>Usuario</code></a> class, it returns the authenticated user. If the user is not authenticated or the principal 
 is not a <a href="../models/Usuario.html" title="class in com.sympos2.models"><code>Usuario</code></a>, it returns null.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The currently authenticated user, or null if no user is authenticated or if the authenticated 
         principal is not an instance of <a href="../models/Usuario.html" title="class in com.sympos2.models"><code>Usuario</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listarObras(org.springframework.ui.Model)">
<h3>listarObras</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/workList")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">listarObras</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the logic for displaying the list of works (obras). It checks if the currently authenticated user
 has an "ADMIN" role. If the user is an administrator, it retrieves and displays all works from the database.
 If the user is not an administrator, they are redirected to the home page.
 
 <p>
 The following actions are performed:
 <ul>
   <li>The method checks if the currently authenticated user has an "ADMIN" role.</li>
   <li>If the user is an administrator, it retrieves all works from the repository and adds them to the model.</li>
   <li>If the user is not an administrator, the method redirects to the home page.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - The model object used to pass attributes to the view. In this case, it holds the list of works
              to be displayed on the page.</dd>
<dt>Returns:</dt>
<dd>A string representing the view name. If the user is an admin, it returns "/workList"; otherwise, it 
         redirects to the home page with "/".</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="insertarLibro(java.lang.String,org.springframework.ui.Model)">
<h3>insertarLibro</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/workForm/book")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">insertarLibro</span><wbr><span class="parameters">(@RequestParam(required=false)
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;failure,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the logic for displaying the form to insert a new book (libro). It optionally accepts a 
 "failure" parameter to indicate if there was an error during the process and displays an appropriate message 
 on the form. It also retrieves all distinct tags (temas) related to the works (obras) and provides them to 
 the view for selection. 
 
 <p>
 The following actions are performed:
 <ul>
   <li>If the "failure" parameter is present, it adds it as an attribute to the model to display an error message.</li>
   <li>It retrieves all distinct tags (temas) from the `obraService` and adds them to the model in JSON format.</li>
   <li>It sets the type of the work to "BOOK" in the model to be used in the form.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>failure</code> - An optional parameter indicating if there was a failure during the process. If present, an error
                message will be displayed on the form.</dd>
<dd><code>model</code> - The model object used to pass attributes to the view. In this case, it contains the list of tags
              and other attributes required for the form.</dd>
<dt>Returns:</dt>
<dd>The name of the view ("workForm"), which will display the form to insert a new book.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="insertarLibroSubmit(com.sympos2.models.Obra,java.lang.String,org.springframework.validation.BindingResult)">
<h3>insertarLibroSubmit</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/workForm/bookSubmit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">insertarLibroSubmit</span><wbr><span class="parameters">(@Valid @ModelAttribute("WorkForm")
 @Valid <a href="../models/Obra.html" title="class in com.sympos2.models">Obra</a>&nbsp;insertarObra,
 @RequestParam("tags")
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tags,
 org.springframework.validation.BindingResult&nbsp;br)</span></div>
<div class="block">This method handles the submission of the form for inserting a new book (libro) into the system. It performs validation 
 checks and handles the insertion process into the database. If there are validation errors or if the book already exists, 
 it redirects back to the form with a failure message. If the insertion is successful, it redirects to the work list page.
 
 <p>
 The following steps are performed:
 <ul>
   <li>Validates the form using the provided `BindingResult` to check for errors.</li>
   <li>Checks if a book with the same ISBN already exists in the database.</li>
   <li>If errors are found or if the book already exists, the user is redirected to the book insertion form with an error message.</li>
   <li>If the book does not exist and there are no validation errors, the book is inserted into the database with the given tags.</li>
   <li>The tags provided as a comma-separated string are converted into a list and added to the book object.</li>
   <li>The book's type is set to "BOOK" and the book is saved in the repository.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>insertarObra</code> - The `Obra` object containing the information for the new book (book details, ISBN, etc.).</dd>
<dd><code>tags</code> - A comma-separated string of tags (temas) related to the book, which will be converted into a list.</dd>
<dd><code>br</code> - The `BindingResult` object used to store validation errors (if any) from the form submission.</dd>
<dt>Returns:</dt>
<dd>A string indicating where to redirect after the form submission:
         - If errors are found or if the book already exists, the user is redirected back to the book form with an error message.
         - If successful, the user is redirected to the work list page.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="insertarArticulo(java.lang.String,org.springframework.ui.Model)">
<h3>insertarArticulo</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/workForm/article")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">insertarArticulo</span><wbr><span class="parameters">(@RequestParam(required=false)
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;failure,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the display of the article creation form. It retrieves a list of available tags (temas) for the article 
 and adds them to the model. If a failure message is provided (such as an error from the form submission), it adds that message 
 to the model. The method prepares the form for creating a new article by setting the necessary attributes in the model, 
 including the available tags and the type of work (ARTICLE).
 
 <p>
 The following steps are performed:
 <ul>
   <li>If a failure message is provided (via the "failure" request parameter), it is added to the model.</li>
   <li>The method retrieves a list of different available tags (temas) through the `obraService`.</li>
   <li>The tags are added to the model as a JSON object for use in the form.</li>
   <li>The type of work ("ARTICLE") is set and added to the model, which indicates the type of the object being created.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>failure</code> - An optional query parameter that contains a failure message if the form submission failed. Can be null.</dd>
<dd><code>model</code> - The `Model` object used to pass data to the view (form) for rendering.</dd>
<dt>Returns:</dt>
<dd>The name of the view (`"workForm"`), which is the article creation form.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="insertarArticuloSubmit(com.sympos2.models.Obra,java.lang.String,org.springframework.validation.BindingResult)">
<h3>insertarArticuloSubmit</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/workForm/articleSubmit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">insertarArticuloSubmit</span><wbr><span class="parameters">(@Valid @ModelAttribute("WorkForm")
 @Valid <a href="../models/Obra.html" title="class in com.sympos2.models">Obra</a>&nbsp;insertarObra,
 @RequestParam("tags")
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tags,
 org.springframework.validation.BindingResult&nbsp;br)</span></div>
<div class="block">This method handles the submission of the article creation form. It performs validation on the input data 
 and attempts to insert a new article (of type "ARTICLE") into the database.
 
 <p>
 The following steps are performed:
 <ul>
   <li>If validation errors are present or if the ISBN of the article already exists in the database, the method redirects the user 
       back to the form with a failure message.</li>
   <li>If validation passes and the ISBN is not already in use, the method proceeds by converting the tags (provided as a comma-separated string) 
       into a list of strings and sets them as themes (temas) for the article.</li>
   <li>The type of work is set to "ARTICLE", and the article object is saved to the repository.</li>
   <li>If the insertion is successful, the user is redirected to the list of works.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>insertarObra</code> - The article object to be inserted, populated with the data submitted through the form.</dd>
<dd><code>tags</code> - A comma-separated string of tags (temas) to be associated with the article.</dd>
<dd><code>br</code> - The binding result that holds any validation errors from the form submission.</dd>
<dt>Returns:</dt>
<dd>A redirection URL. If there are errors or if the ISBN already exists, the method redirects back to the form. 
         Otherwise, it redirects to the list of works.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="borrarObra(java.lang.Long)">
<h3>borrarObra</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/workList/delete{id}")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">borrarObra</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span></div>
<div class="block">This method handles the deletion of a work (book or article) from the system.
 It first checks if the work exists in the database by its ID. If it does, it proceeds to delete 
 the work along with all associated comments and their replies to avoid orphan entries in the database.
 
 <p>
 The following steps are performed:
 <ul>
   <li>Check if the work exists in the database by its ID.</li>
   <li>If the work exists, it retrieves all comments associated with the work using the work ID.</li>
   <li>Deletes each comment and its responses to prevent orphaned records.</li>
   <li>Deletes the work from the database using its ISBN to ensure the correct entry is removed.</li>
   <li>If the work is successfully deleted, the user is redirected to the list of works.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID of the work to be deleted from the database.</dd>
<dt>Returns:</dt>
<dd>A redirection URL to the list of works. After the work and its associated comments are deleted, 
         the user is redirected to the "workList" page.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editarObra(java.lang.Long,org.springframework.ui.Model)">
<h3>editarObra</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/workList/edit{id}")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">editarObra</span><wbr><span class="parameters">(@PathVariable("id")
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the redirection logic for editing a work (book or article) in the system.
 It checks if the work with the given ID exists in the database. If the work is found,
 it determines whether the work is a book or an article and redirects to the appropriate editing page.
 
 <p>
 The following steps are performed:
 <ul>
   <li>Check if the work ID is provided.</li>
   <li>Look for the work in the database using the provided ID.</li>
   <li>If the work is found and is of type "BOOK", redirect to the book editing page.</li>
   <li>If the work is found and is of type "ARTICLE", redirect to the article editing page.</li>
   <li>If the work is not found, print a message and redirect to the list of works.</li>
   <li>If no ID is provided, print a message and redirect to the list of works.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID of the work to be edited. This ID is used to fetch the work from the database.</dd>
<dd><code>model</code> - The model to which the work data is added (although not used directly in this method).</dd>
<dt>Returns:</dt>
<dd>A redirection URL:
         <ul>
           <li>If the work exists and is a book, redirect to the book editing page.</li>
           <li>If the work exists and is an article, redirect to the article editing page.</li>
           <li>If the work doesn't exist or the ID is not provided, redirect to the list of works.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editarLibro(java.lang.Long,org.springframework.ui.Model)">
<h3>editarLibro</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/workEdit/book")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">editarLibro</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the editing functionality for books in the system.
 It retrieves a book by its ID and populates the model with necessary data to edit it.
 The model is populated with the book information, tags, and the type of the work.
 
 <p>
 The following steps are performed:
 <ul>
   <li>Check if the book ID is provided.</li>
   <li>If the book ID is valid, retrieve the book from the database using the ID.</li>
   <li>If the book is found, collect a list of tags (themes) and add them to the model.</li>
   <li>Add the book's data to the model for display in the edit view.</li>
   <li>If the book is not found or no ID is provided, redirect to the list of works.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID of the book to be edited. This ID is used to fetch the book from the database.</dd>
<dd><code>model</code> - The model to which the book and other necessary data are added for the view.</dd>
<dt>Returns:</dt>
<dd>A string indicating the view to be rendered:
         <ul>
           <li>If the book is found, render the work edit page with the book's data.</li>
           <li>If the book is not found or the ID is invalid, redirect to the list of works.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editarLibroSubmit(com.sympos2.models.Obra,java.lang.String,org.springframework.validation.BindingResult)">
<h3>editarLibroSubmit</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/workEdit/bookSubmit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">editarLibroSubmit</span><wbr><span class="parameters">(@Valid @ModelAttribute("workEdit")
 @Valid <a href="../models/Obra.html" title="class in com.sympos2.models">Obra</a>&nbsp;editedWork,
 @RequestParam("tags")
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tags,
 org.springframework.validation.BindingResult&nbsp;br)</span></div>
<div class="block">This method handles the submission of the book editing form.
 It receives the edited book data, validates it, and updates the book record in the database.
 
 <p>
 The following steps are performed:
 <ul>
   <li>Validate the input data for the edited book.</li>
   <li>If there are validation errors, redirect to the book edit page with a failure message.</li>
   <li>If the book's ISBN exists in the database, the existing record is deleted and the updated book is saved.</li>
   <li>If the book's ISBN does not exist, the updated book is saved as a new entry.</li>
   <li>In either case, the book's tags (themes) are parsed and added to the book record.</li>
   <li>After the update, redirect to the work list page.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>editedWork</code> - The edited book object, bound to the form data.</dd>
<dd><code>tags</code> - A string of comma-separated tags (themes) associated with the book.</dd>
<dd><code>br</code> - The binding result that holds any validation errors.</dd>
<dt>Returns:</dt>
<dd>A string indicating where to redirect the user:
         <ul>
           <li>If there are validation errors or the book already exists, redirect to the book edit page with a failure message.</li>
           <li>If the book is successfully updated, redirect to the work list page.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editarArticulo(java.lang.Long,org.springframework.ui.Model)">
<h3>editarArticulo</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/workEdit/article{id}")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">editarArticulo</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method handles the editing of an article in the system.
 It retrieves the article based on its ID and prepares it for editing.
 The method also fetches a list of available tags (themes) for the article.
 
 <p>
 The following steps are performed:
 <ul>
   <li>Check if a valid article ID is provided.</li>
   <li>If the article exists in the database, fetch it and load its data into the model.</li>
   <li>Retrieve a list of tags that can be associated with the article.</li>
   <li>Prepare the model for the editing view, including the article and the available tags.</li>
   <li>If the article ID is invalid or not found, redirect to the work list page.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID of the article to be edited.</dd>
<dd><code>model</code> - The model to which attributes are added for the view.</dd>
<dt>Returns:</dt>
<dd>A string indicating the next view:
         <ul>
           <li>If the article exists, return the view name for editing the article.</li>
           <li>If the article is not found, redirect to the work list page.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editarArticuloSubmit(com.sympos2.models.Obra,java.lang.String,org.springframework.validation.BindingResult)">
<h3>editarArticuloSubmit</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/workEdit/articleSubmit")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">editarArticuloSubmit</span><wbr><span class="parameters">(@Valid @ModelAttribute("workEdit")
 @Valid <a href="../models/Obra.html" title="class in com.sympos2.models">Obra</a>&nbsp;editedWork,
 @RequestParam("tags")
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tags,
 org.springframework.validation.BindingResult&nbsp;br)</span></div>
<div class="block">This method handles the submission of the article edit form. It validates the form data, checks if the article already exists
 in the system, and then either updates the article or creates a new one.
 
 <p>
 The following steps are performed:
 <ul>
   <li>Validate the form data and check for any errors.</li>
   <li>If there are validation errors, redirect to the article edit page with an error message.</li>
   <li>If the article already exists in the system (checked by ISBN), delete the old version and save the edited article.</li>
   <li>If the article doesn't exist, simply save the new article with the updated information.</li>
   <li>Redirect to the work list page after the article has been successfully saved or updated.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>editedWork</code> - The edited article object containing the updated information.</dd>
<dd><code>tags</code> - A string containing the tags (themes) associated with the article, separated by commas.</dd>
<dd><code>br</code> - The binding result used to validate the form data.</dd>
<dt>Returns:</dt>
<dd>A string indicating the next view:
         <ul>
           <li>If there are errors in the form, redirect to the article edit page with an error message.</li>
           <li>If the article was updated or created successfully, redirect to the work list page.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listarComentarios(org.springframework.ui.Model)">
<h3>listarComentarios</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/commentList")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">listarComentarios</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">This method retrieves and displays a list of all comments in the system.
 
 <p>
 It checks if there are any comments in the repository. If there are comments, they are added to the model 
 and the "commentList" view is returned to display the comments. If no comments are found, the user is redirected 
 back to the index page.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - The Spring model object that holds attributes to be passed to the view.</dd>
<dt>Returns:</dt>
<dd>A string indicating the next view:
         <ul>
           <li>If comments are found, the "commentList" view is returned to display the comments.</li>
           <li>If no comments are found, the user is redirected to the index page ("/").</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="bannearComentario(java.lang.String,java.lang.Long,java.lang.String)">
<h3>bannearComentario</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/banComment")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">bannearComentario</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;commentId,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;obraId,
 @RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;origin)</span></div>
<div class="block">This method handles the banning of a comment by its ID.
 
 <p>
 It bans the comment using the `commentService.banComment` method. Depending on the value of the 
 `origin` parameter, the user is redirected either back to the work show page ("/workShow?id={obraId}") 
 or to the comment list page ("/commentList").
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>commentId</code> - The ID of the comment to be banned.</dd>
<dd><code>obraId</code> - The ID of the work related to the comment (used for redirection if the origin is "workShow").</dd>
<dd><code>origin</code> - A string indicating the origin of the request. If the value is "workShow", the user is redirected to the work show page. 
               Otherwise, the user is redirected to the comment list page.</dd>
<dt>Returns:</dt>
<dd>A string representing the view to be returned:
         <ul>
           <li>If the origin is "workShow", the user is redirected to the work show page with the given obraId.</li>
           <li>Otherwise, the user is redirected to the comment list page.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="desbannearComentario(java.lang.String)">
<h3>desbannearComentario</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/unbanComment")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">desbannearComentario</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">This method handles the unbanning of a comment by its ID.
 
 <p>
 It calls the `commentService.unbanComment` method to remove the ban from the specified comment.
 After unbanning the comment, the user is redirected to the comment list page.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID of the comment to be unbanned.</dd>
<dt>Returns:</dt>
<dd>A string representing the view to be returned, which is a redirect to the comment list page.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
